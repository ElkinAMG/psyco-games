!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).StackBlur=e()}((function(){return function e(t,n,r){function a(f,i){if(!n[f]){if(!t[f]){var u="function"==typeof require&&require;if(!i&&u)return u(f,!0);if(o)return o(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var l=n[f]={exports:{}};t[f][0].call(l.exports,(function(e){return a(t[f][1][e]||e)}),l,l.exports,e,t,n,r)}return n[f].exports}for(var o="function"==typeof require&&require,f=0;f<r.length;f++)a(r[f]);return a}({1:[function(e,t,n){function r(e,t,n,r,a){if("string"==typeof e)e=document.getElementById(e);else if("undefined"!=typeof HTMLCanvasElement&&!e instanceof HTMLCanvasElement)return;var o,f=e.getContext("2d");try{try{o=f.getImageData(t,n,r,a)}catch(e){throw new Error("unable to access local image data: "+e)}}catch(e){throw new Error("unable to access image data: "+e)}return o}function a(e,t,n,a,f,i){if(!(isNaN(i)||i<1)){i|=0;var u=r(e,t,n,a,f);u=o(u,0,0,a,f,i),e.getContext("2d").putImageData(u,t,n)}}function o(e,t,n,r,a,o){var f,i,d,c,s,x,m,b,p,v,y,h,w,E,C,I,B,N,D,H,L,M,T,R,q=e.data,G=o+o+1,O=r-1,A=a-1,U=o+1,_=U*(U+1)/2,j=new u,k=j;for(d=1;d<G;d++)if(k=k.next=new u,d==U)var F=k;k.next=j;var S=null,W=null;m=x=0;var z=g[o],J=l[o];for(i=0;i<a;i++){for(I=B=N=D=b=p=v=y=0,h=U*(H=q[x]),w=U*(L=q[x+1]),E=U*(M=q[x+2]),C=U*(T=q[x+3]),b+=_*H,p+=_*L,v+=_*M,y+=_*T,k=j,d=0;d<U;d++)k.r=H,k.g=L,k.b=M,k.a=T,k=k.next;for(d=1;d<U;d++)c=x+((O<d?O:d)<<2),b+=(k.r=H=q[c])*(R=U-d),p+=(k.g=L=q[c+1])*R,v+=(k.b=M=q[c+2])*R,y+=(k.a=T=q[c+3])*R,I+=H,B+=L,N+=M,D+=T,k=k.next;for(S=j,W=F,f=0;f<r;f++)q[x+3]=T=y*z>>J,0!=T?(T=255/T,q[x]=(b*z>>J)*T,q[x+1]=(p*z>>J)*T,q[x+2]=(v*z>>J)*T):q[x]=q[x+1]=q[x+2]=0,b-=h,p-=w,v-=E,y-=C,h-=S.r,w-=S.g,E-=S.b,C-=S.a,c=m+((c=f+o+1)<O?c:O)<<2,b+=I+=S.r=q[c],p+=B+=S.g=q[c+1],v+=N+=S.b=q[c+2],y+=D+=S.a=q[c+3],S=S.next,h+=H=W.r,w+=L=W.g,E+=M=W.b,C+=T=W.a,I-=H,B-=L,N-=M,D-=T,W=W.next,x+=4;m+=r}for(f=0;f<r;f++){for(B=N=D=I=p=v=y=b=0,h=U*(H=q[x=f<<2]),w=U*(L=q[x+1]),E=U*(M=q[x+2]),C=U*(T=q[x+3]),b+=_*H,p+=_*L,v+=_*M,y+=_*T,k=j,d=0;d<U;d++)k.r=H,k.g=L,k.b=M,k.a=T,k=k.next;for(s=r,d=1;d<=o;d++)x=s+f<<2,b+=(k.r=H=q[x])*(R=U-d),p+=(k.g=L=q[x+1])*R,v+=(k.b=M=q[x+2])*R,y+=(k.a=T=q[x+3])*R,I+=H,B+=L,N+=M,D+=T,k=k.next,d<A&&(s+=r);for(x=f,S=j,W=F,i=0;i<a;i++)q[3+(c=x<<2)]=T=y*z>>J,T>0?(T=255/T,q[c]=(b*z>>J)*T,q[c+1]=(p*z>>J)*T,q[c+2]=(v*z>>J)*T):q[c]=q[c+1]=q[c+2]=0,b-=h,p-=w,v-=E,y-=C,h-=S.r,w-=S.g,E-=S.b,C-=S.a,c=f+((c=i+U)<A?c:A)*r<<2,b+=I+=S.r=q[c],p+=B+=S.g=q[c+1],v+=N+=S.b=q[c+2],y+=D+=S.a=q[c+3],S=S.next,h+=H=W.r,w+=L=W.g,E+=M=W.b,C+=T=W.a,I-=H,B-=L,N-=M,D-=T,W=W.next,x+=r}return e}function f(e,t,n,a,o,f){if(!(isNaN(f)||f<1)){f|=0;var u=r(e,t,n,a,o);u=i(u,0,0,a,o,f),e.getContext("2d").putImageData(u,t,n)}}function i(e,t,n,r,a,o){var f,i,d,c,s,x,m,b,p,v,y,h,w,E,C,I,B,N,D,H,L=e.data,M=o+o+1,T=r-1,R=a-1,q=o+1,G=q*(q+1)/2,O=new u,A=O;for(d=1;d<M;d++)if(A=A.next=new u,d==q)var U=A;A.next=O;var _=null,j=null;m=x=0;var k=g[o],F=l[o];for(i=0;i<a;i++){for(E=C=I=b=p=v=0,y=q*(B=L[x]),h=q*(N=L[x+1]),w=q*(D=L[x+2]),b+=G*B,p+=G*N,v+=G*D,A=O,d=0;d<q;d++)A.r=B,A.g=N,A.b=D,A=A.next;for(d=1;d<q;d++)c=x+((T<d?T:d)<<2),b+=(A.r=B=L[c])*(H=q-d),p+=(A.g=N=L[c+1])*H,v+=(A.b=D=L[c+2])*H,E+=B,C+=N,I+=D,A=A.next;for(_=O,j=U,f=0;f<r;f++)L[x]=b*k>>F,L[x+1]=p*k>>F,L[x+2]=v*k>>F,b-=y,p-=h,v-=w,y-=_.r,h-=_.g,w-=_.b,c=m+((c=f+o+1)<T?c:T)<<2,b+=E+=_.r=L[c],p+=C+=_.g=L[c+1],v+=I+=_.b=L[c+2],_=_.next,y+=B=j.r,h+=N=j.g,w+=D=j.b,E-=B,C-=N,I-=D,j=j.next,x+=4;m+=r}for(f=0;f<r;f++){for(C=I=E=p=v=b=0,y=q*(B=L[x=f<<2]),h=q*(N=L[x+1]),w=q*(D=L[x+2]),b+=G*B,p+=G*N,v+=G*D,A=O,d=0;d<q;d++)A.r=B,A.g=N,A.b=D,A=A.next;for(s=r,d=1;d<=o;d++)x=s+f<<2,b+=(A.r=B=L[x])*(H=q-d),p+=(A.g=N=L[x+1])*H,v+=(A.b=D=L[x+2])*H,E+=B,C+=N,I+=D,A=A.next,d<R&&(s+=r);for(x=f,_=O,j=U,i=0;i<a;i++)L[c=x<<2]=b*k>>F,L[c+1]=p*k>>F,L[c+2]=v*k>>F,b-=y,p-=h,v-=w,y-=_.r,h-=_.g,w-=_.b,c=f+((c=i+q)<R?c:R)*r<<2,b+=E+=_.r=L[c],p+=C+=_.g=L[c+1],v+=I+=_.b=L[c+2],_=_.next,y+=B=j.r,h+=N=j.g,w+=D=j.b,E-=B,C-=N,I-=D,j=j.next,x+=r}return e}function u(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var g=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.exports={image:function(e,t,n,r){if("string"==typeof e)e=document.getElementById(e);else if("undefined"!=typeof HTMLImageElement&&!e instanceof HTMLImageElement)return;var o=e.naturalWidth,i=e.naturalHeight;if("string"==typeof t)t=document.getElementById(t);else if("undefined"!=typeof HTMLCanvasElement&&!t instanceof HTMLCanvasElement)return;t.style.width=o+"px",t.style.height=i+"px",t.width=o,t.height=i;var u=t.getContext("2d");u.clearRect(0,0,o,i),u.drawImage(e,0,0),isNaN(n)||n<1||(r?a(t,0,0,o,i,n):f(t,0,0,o,i,n))},canvasRGBA:a,canvasRGB:f,imageDataRGBA:o,imageDataRGB:i}},{}]},{},[1])(1)}));